---
import { SITE_TITLE, SITE_DESCRIPTION } from '../consts';
import HeaderLink from './HeaderLink.astro';
import { Image } from 'astro:assets';
import logo from '../../public/DK.png';
---

<header>
	<nav>
		<h2>
			<a href="/">
				<div class="site-header">
					<div class="site-brand">
						<Image src={logo} alt="DK Logo" width={48} height={48} class="site-logo" />
						<div class="site-title">{SITE_TITLE}</div>
					</div>
					<div class="site-description">{SITE_DESCRIPTION}</div>
				</div>
			</a>
		</h2>
		<div class="internal-links">
			<HeaderLink href="/">Home</HeaderLink>
			<HeaderLink href="/blog">Blog</HeaderLink>
			<HeaderLink href="/about">About</HeaderLink>
		</div>
		   <div class="social-links">
			   <a href="https://www.linkedin.com/in/kompanek/" target="_blank" rel="noopener noreferrer">
				   <span class="sr-only">Connect on LinkedIn</span>
				   <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
					   <rect width="32" height="32" rx="6" fill="#0077B5"/>
					   <path d="M10.666 13.333h2.667v8H10.666v-8zm1.333-4a1.333 1.333 0 110 2.667 1.333 1.333 0 010-2.667zm3.334 4h2.56v1.093h.037c.357-.677 1.23-1.393 2.533-1.393 2.707 0 3.2 1.787 3.2 4.107v4.193h-2.667v-3.72c0-.887-.016-2.027-1.28-2.027-1.28 0-1.48 1-1.48 2.033v3.714h-2.667v-8z" fill="#fff"/>
				   </svg>
			   </a>
		   </div>
	</nav>
</header>
<style>
	header {
		margin: 0;
		padding: 0 1em;
		opacity: 0.85;
		/* Fixed position but only when >720px of horizontal space */
		position:fixed; top:0; left:0; width:100vw; z-index:1000;
		background: var(--pale-blue-gray);
		box-shadow: 0 2px 8px rgba(var(--black), 5%);
	}
	h2 {
		margin: 0;
		font-size: 1.5em;
	}

	h2 a,
	h2 a.active {
		text-decoration: none;
		display: flex;
		align-items: center;
		gap: 0.5rem;
	}
	nav {
		display: flex;
		align-items: center;
		justify-content: center;
		gap: 2rem;
	/* padding: 1rem 0;  */
	}
	   nav h2 {
		   position: relative;
		   left: 0;
		   flex: 1 1 auto;
		   min-width: 0;
	   }
	.internal-links {
		display: flex;
	}
	nav a {
		padding: 1em 0.5em;
		color: var(--black);
		border-bottom: 4px solid transparent;
		text-decoration: none;
		/* color: white; */
	}
	nav a.active {
		text-decoration: none;
		border-bottom-color: var(--accent);
	}

 
	.site-header {
  		display: flex;
		flex-direction: column;
		align-items: flex-start; /* or center if you want */
		margin:0; padding:0;
	}

	.site-brand {
	  display: flex;
	  align-items: center;
	  gap: 0.5em; /* space between logo and title */
	  margin:0; padding:0;
	}

	.site-logo {
	  width: 40px; /* adjust as needed */
	  height: 40px;
	  border-radius: 0;
	  height: auto;
	}

	.site-title {
	  font-size: 1.25em;
	  font-family: 'Comfortaa', sans-serif;
	  text-align: left;
	  /* other styles */
	}

	.site-description {
	  margin-top: 1em;
	  font-size: 0.60em;
	  color: #666;
	  text-align: left;
	  line-height:1.5em;
	}

	.social-links,
	.social-links a {
		margin-right: 1em;
		
		display: flex;
	}
	   @media (max-width: 720px) {
			header {
				position: static;
			}
			main {
				/* padding-top:250px; */
			}
		   nav {
			   flex-direction: column;
			   align-items: stretch; 
			   gap: 0rem; 
			   padding-bottom:0;
			
		   }
		   nav h2 {
			   font-size: clamp(1.2em, 6vw, 1.5em);
			   text-align: center;
			   word-break: break-word;
			   white-space: normal;
			   margin-bottom: 0.0em;
		   }
		   .internal-links {
				line-height:1;
				margin-top:0;
				margin-bottom:0;
			    justify-content: center;
			    flex-wrap: wrap;
		   }
		   .internal-links a {
			    font-size: 0.95em;		
			}
		   .social-links {
			   display: None; /* Hide social links on mobile header - not enough room */
		   }
	   }
</style>
